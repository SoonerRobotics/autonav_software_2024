#include "gtest/gtest.h"
#include "autonav_filters/particle_filter.hpp"

TEST(ParticleFilterTests, initialization_test) {
    float latitudeLength = 111086.2;
    float longitudeLength = 81978.2;
    ParticleFilter particle_filter = ParticleFilter(latitudeLength, longitudeLength);
    ASSERT_EQ(particle_filter.get_latitudeLength(), latitudeLength);
    ASSERT_EQ(particle_filter.get_longitudeLength(), longitudeLength);

    particle_filter.init_particles();

    #pragma region PythonData
    std::vector<std::vector<float>> python_data = {{0, 0, 0.0, 1}, {0, 0, 0.008377580409572781, 1}, {0, 0, 0.016755160819145562, 1}, {0, 0, 0.025132741228718346, 1}, {0, 0, 0.033510321638291124, 1}, {0, 0, 0.04188790204786391, 1}, {0, 0, 0.05026548245743669, 1}, {0, 0, 0.058643062867009474, 1}, {0, 0, 0.06702064327658225, 1}, {0, 0, 0.07539822368615504, 1}, {0, 0, 0.08377580409572782, 1}, {0, 0, 0.0921533845053006, 1}, {0, 0, 0.10053096491487339, 1}, {0, 0, 0.10890854532444616, 1}, {0, 0, 0.11728612573401895, 1}, {0, 0, 0.12566370614359174, 1}, {0, 0, 0.1340412865531645, 1}, {0, 0, 0.1424188669627373, 1}, {0, 0, 0.15079644737231007, 1}, {0, 0, 0.15917402778188286, 1}, {0, 0, 0.16755160819145565, 1}, {0, 0, 0.1759291886010284, 1}, {0, 0, 0.1843067690106012, 1}, {0, 0, 0.19268434942017396, 1}, {0, 0, 0.20106192982974677, 1}, {0, 0, 0.20943951023931953, 1}, {0, 0, 0.21781709064889232, 1}, {0, 0, 0.22619467105846508, 1}, {0, 0, 0.2345722514680379, 1}, {0, 0, 0.24294983187761068, 1}, {0, 0, 0.25132741228718347, 1}, {0, 0, 0.25970499269675623, 1}, {0, 0, 0.268082573106329, 1}, {0, 0, 0.27646015351590175, 1}, {0, 0, 0.2848377339254746, 1}, {0, 0, 0.2932153143350474, 1}, {0, 0, 0.30159289474462014, 1}, {0, 0, 0.3099704751541929, 1}, {0, 0, 0.3183480555637657, 1}, {0, 0, 0.3267256359733385, 1}, {0, 0, 0.3351032163829113, 1}, {0, 0, 0.34348079679248406, 1}, {0, 0, 0.3518583772020568, 1}, {0, 0, 0.36023595761162963, 1}, {0, 0, 0.3686135380212024, 1}, {0, 0, 0.37699111843077515, 1}, {0, 0, 0.3853686988403479, 1}, {0, 0, 0.3937462792499207, 1}, {0, 0, 0.40212385965949354, 1}, {0, 0, 0.41050144006906625, 1}, {0, 0, 0.41887902047863906, 1}, {0, 0, 0.4272566008882119, 1}, {0, 0, 0.43563418129778464, 1}, {0, 0, 0.44401176170735746, 1}, {0, 0, 0.45238934211693016, 1}, {0, 0, 0.460766922526503, 1}, {0, 0, 0.4691445029360758, 1}, {0, 0, 0.47752208334564855, 1}, {0, 0, 0.48589966375522137, 1}, {0, 0, 0.49427724416479407, 1}, {0, 0, 0.5026548245743669, 1}, {0, 0, 0.5110324049839396, 1}, {0, 0, 0.5194099853935125, 1}, {0, 0, 0.5277875658030853, 1}, {0, 0, 0.536165146212658, 1}, {0, 0, 0.5445427266222308, 1}, {0, 0, 0.5529203070318035, 1}, {0, 0, 0.5612978874413763, 1}, {0, 0, 0.5696754678509492, 1}, {0, 0, 0.578053048260522, 1}, {0, 0, 0.5864306286700948, 1}, {0, 0, 0.5948082090796675, 1}, {0, 0, 0.6031857894892403, 1}, {0, 0, 0.611563369898813, 1}, {0, 0, 0.6199409503083858, 1}, {0, 0, 0.6283185307179586, 1}, {0, 0, 0.6366961111275314, 1}, {0, 0, 0.6450736915371043, 1}, {0, 0, 0.653451271946677, 1}, {0, 0, 0.6618288523562498, 1}, {0, 0, 0.6702064327658226, 1}, {0, 0, 0.6785840131753953, 1}, {0, 0, 0.6869615935849681, 1}, {0, 0, 0.6953391739945408, 1}, {0, 0, 0.7037167544041136, 1}, {0, 0, 0.7120943348136864, 1}, {0, 0, 0.7204719152232593, 1}, {0, 0, 0.7288494956328321, 1}, {0, 0, 0.7372270760424048, 1}, {0, 0, 0.7456046564519776, 1}, {0, 0, 0.7539822368615503, 1}, {0, 0, 0.7623598172711231, 1}, {0, 0, 0.7707373976806958, 1}, {0, 0, 0.7791149780902686, 1}, {0, 0, 0.7874925584998415, 1}, {0, 0, 0.7958701389094143, 1}, {0, 0, 0.8042477193189871, 1}, {0, 0, 0.8126252997285598, 1}, {0, 0, 0.8210028801381325, 1}, {0, 0, 0.8293804605477054, 1}, {0, 0, 0.8377580409572781, 1}, {0, 0, 0.8461356213668508, 1}, {0, 0, 0.8545132017764238, 1}, {0, 0, 0.8628907821859966, 1}, {0, 0, 0.8712683625955693, 1}, {0, 0, 0.8796459430051422, 1}, {0, 0, 0.8880235234147149, 1}, {0, 0, 0.8964011038242876, 1}, {0, 0, 0.9047786842338603, 1}, {0, 0, 0.9131562646434332, 1}, {0, 0, 0.921533845053006, 1}, {0, 0, 0.9299114254625788, 1}, {0, 0, 0.9382890058721516, 1}, {0, 0, 0.9466665862817244, 1}, {0, 0, 0.9550441666912971, 1}, {0, 0, 0.9634217471008698, 1}, {0, 0, 0.9717993275104427, 1}, {0, 0, 0.9801769079200154, 1}, {0, 0, 0.9885544883295881, 1}, {0, 0, 0.9969320687391611, 1}, {0, 0, 1.0053096491487339, 1}, {0, 0, 1.0136872295583066, 1}, {0, 0, 1.0220648099678793, 1}, {0, 0, 1.0304423903774522, 1}, {0, 0, 1.038819970787025, 1}, {0, 0, 1.0471975511965976, 1}, {0, 0, 1.0555751316061706, 1}, {0, 0, 1.0639527120157433, 1}, {0, 0, 1.072330292425316, 1}, {0, 0, 1.0807078728348887, 1}, {0, 0, 1.0890854532444616, 1}, {0, 0, 1.0974630336540343, 1}, {0, 0, 1.105840614063607, 1}, {0, 0, 1.11421819447318, 1}, {0, 0, 1.1225957748827526, 1}, {0, 0, 1.1309733552923256, 1}, {0, 0, 1.1393509357018985, 1}, {0, 0, 1.1477285161114712, 1}, {0, 0, 1.156106096521044, 1}, {0, 0, 1.1644836769306166, 1}, {0, 0, 1.1728612573401895, 1}, {0, 0, 1.1812388377497622, 1}, {0, 0, 1.189616418159335, 1}, {0, 0, 1.1979939985689079, 1}, {0, 0, 1.2063715789784806, 1}, {0, 0, 1.2147491593880533, 1}, {0, 0, 1.223126739797626, 1}, {0, 0, 1.231504320207199, 1}, {0, 0, 1.2398819006167716, 1}, {0, 0, 1.2482594810263443, 1}, {0, 0, 1.2566370614359172, 1}, {0, 0, 1.26501464184549, 1}, {0, 0, 1.2733922222550629, 1}, {0, 0, 1.2817698026646356, 1}, {0, 0, 1.2901473830742085, 1}, {0, 0, 1.2985249634837812, 1}, {0, 0, 1.306902543893354, 1}, {0, 0, 1.3152801243029268, 1}, {0, 0, 1.3236577047124995, 1}, {0, 0, 1.3320352851220723, 1}, {0, 0, 1.3404128655316452, 1}, {0, 0, 1.3487904459412179, 1}, {0, 0, 1.3571680263507906, 1}, {0, 0, 1.3655456067603633, 1}, {0, 0, 1.3739231871699362, 1}, {0, 0, 1.382300767579509, 1}, {0, 0, 1.3906783479890816, 1}, {0, 0, 1.3990559283986546, 1}, {0, 0, 1.4074335088082273, 1}, {0, 0, 1.4158110892178, 1}, {0, 0, 1.424188669627373, 1}, {0, 0, 1.4325662500369458, 1}, {0, 0, 1.4409438304465185, 1}, {0, 0, 1.4493214108560912, 1}, {0, 0, 1.4576989912656642, 1}, {0, 0, 1.4660765716752369, 1}, {0, 0, 1.4744541520848096, 1}, {0, 0, 1.4828317324943823, 1}, {0, 0, 1.4912093129039552, 1}, {0, 0, 1.499586893313528, 1}, {0, 0, 1.5079644737231006, 1}, {0, 0, 1.5163420541326735, 1}, {0, 0, 1.5247196345422462, 1}, {0, 0, 1.533097214951819, 1}, {0, 0, 1.5414747953613916, 1}, {0, 0, 1.5498523757709646, 1}, {0, 0, 1.5582299561805373, 1}, {0, 0, 1.5666075365901102, 1}, {0, 0, 1.574985116999683, 1}, {0, 0, 1.5833626974092558, 1}, {0, 0, 1.5917402778188285, 1}, {0, 0, 1.6001178582284012, 1}, {0, 0, 1.6084954386379742, 1}, {0, 0, 1.616873019047547, 1}, {0, 0, 1.6252505994571196, 1}, {0, 0, 1.6336281798666925, 1}, {0, 0, 1.642005760276265, 1}, {0, 0, 1.650383340685838, 1}, {0, 0, 1.6587609210954108, 1}, {0, 0, 1.6671385015049833, 1}, {0, 0, 1.6755160819145563, 1}, {0, 0, 1.6838936623241292, 1}, {0, 0, 1.6922712427337017, 1}, {0, 0, 1.7006488231432746, 1}, {0, 0, 1.7090264035528475, 1}, {0, 0, 1.7174039839624202, 1}, {0, 0, 1.7257815643719931, 1}, {0, 0, 1.7341591447815659, 1}, {0, 0, 1.7425367251911386, 1}, {0, 0, 1.7509143056007115, 1}, {0, 0, 1.7592918860102844, 1}, {0, 0, 1.767669466419857, 1}, {0, 0, 1.7760470468294298, 1}, {0, 0, 1.7844246272390023, 1}, {0, 0, 1.7928022076485752, 1}, {0, 0, 1.8011797880581482, 1}, {0, 0, 1.8095573684677206, 1}, {0, 0, 1.8179349488772936, 1}, {0, 0, 1.8263125292868665, 1}, {0, 0, 1.834690109696439, 1}, {0, 0, 1.843067690106012, 1}, {0, 0, 1.8514452705155848, 1}, {0, 0, 1.8598228509251575, 1}, {0, 0, 1.8682004313347302, 1}, {0, 0, 1.8765780117443032, 1}, {0, 0, 1.8849555921538759, 1}, {0, 0, 1.8933331725634488, 1}, {0, 0, 1.9017107529730213, 1}, {0, 0, 1.9100883333825942, 1}, {0, 0, 1.9184659137921671, 1}, {0, 0, 1.9268434942017396, 1}, {0, 0, 1.9352210746113125, 1}, {0, 0, 1.9435986550208855, 1}, {0, 0, 1.951976235430458, 1}, {0, 0, 1.9603538158400309, 1}, {0, 0, 1.9687313962496038, 1}, {0, 0, 1.9771089766591763, 1}, {0, 0, 1.9854865570687492, 1}, {0, 0, 1.9938641374783221, 1}, {0, 0, 2.0022417178878946, 1}, {0, 0, 2.0106192982974678, 1}, {0, 0, 2.0189968787070405, 1}, {0, 0, 2.027374459116613, 1}, {0, 0, 2.035752039526186, 1}, {0, 0, 2.0441296199357586, 1}, {0, 0, 2.0525072003453313, 1}, {0, 0, 2.0608847807549044, 1}, {0, 0, 2.069262361164477, 1}, {0, 0, 2.07763994157405, 1}, {0, 0, 2.0860175219836226, 1}, {0, 0, 2.0943951023931953, 1}, {0, 0, 2.1027726828027684, 1}, {0, 0, 2.111150263212341, 1}, {0, 0, 2.119527843621914, 1}, {0, 0, 2.1279054240314865, 1}, {0, 0, 2.1362830044410597, 1}, {0, 0, 2.144660584850632, 1}, {0, 0, 2.153038165260205, 1}, {0, 0, 2.1614157456697773, 1}, {0, 0, 2.1697933260793505, 1}, {0, 0, 2.178170906488923, 1}, {0, 0, 2.186548486898496, 1}, {0, 0, 2.1949260673080686, 1}, {0, 0, 2.2033036477176418, 1}, {0, 0, 2.211681228127214, 1}, {0, 0, 2.220058808536787, 1}, {0, 0, 2.22843638894636, 1}, {0, 0, 2.2368139693559326, 1}, {0, 0, 2.2451915497655053, 1}, {0, 0, 2.2535691301750784, 1}, {0, 0, 2.261946710584651, 1}, {0, 0, 2.270324290994224, 1}, {0, 0, 2.278701871403797, 1}, {0, 0, 2.2870794518133692, 1}, {0, 0, 2.2954570322229424, 1}, {0, 0, 2.3038346126325147, 1}, {0, 0, 2.312212193042088, 1}, {0, 0, 2.3205897734516605, 1}, {0, 0, 2.328967353861233, 1}, {0, 0, 2.337344934270806, 1}, {0, 0, 2.345722514680379, 1}, {0, 0, 2.3541000950899513, 1}, {0, 0, 2.3624776754995245, 1}, {0, 0, 2.370855255909097, 1}, {0, 0, 2.37923283631867, 1}, {0, 0, 2.3876104167282426, 1}, {0, 0, 2.3959879971378157, 1}, {0, 0, 2.4043655775473884, 1}, {0, 0, 2.412743157956961, 1}, {0, 0, 2.421120738366534, 1}, {0, 0, 2.4294983187761066, 1}, {0, 0, 2.4378758991856797, 1}, {0, 0, 2.446253479595252, 1}, {0, 0, 2.454631060004825, 1}, {0, 0, 2.463008640414398, 1}, {0, 0, 2.4713862208239705, 1}, {0, 0, 2.4797638012335432, 1}, {0, 0, 2.4881413816431164, 1}, {0, 0, 2.4965189620526886, 1}, {0, 0, 2.504896542462262, 1}, {0, 0, 2.5132741228718345, 1}, {0, 0, 2.521651703281407, 1}, {0, 0, 2.53002928369098, 1}, {0, 0, 2.538406864100553, 1}, {0, 0, 2.5467844445101258, 1}, {0, 0, 2.5551620249196985, 1}, {0, 0, 2.563539605329271, 1}, {0, 0, 2.571917185738844, 1}, {0, 0, 2.580294766148417, 1}, {0, 0, 2.5886723465579893, 1}, {0, 0, 2.5970499269675624, 1}, {0, 0, 2.605427507377135, 1}, {0, 0, 2.613805087786708, 1}, {0, 0, 2.6221826681962805, 1}, {0, 0, 2.6305602486058537, 1}, {0, 0, 2.638937829015426, 1}, {0, 0, 2.647315409424999, 1}, {0, 0, 2.655692989834572, 1}, {0, 0, 2.6640705702441445, 1}, {0, 0, 2.672448150653717, 1}, {0, 0, 2.6808257310632904, 1}, {0, 0, 2.689203311472863, 1}, {0, 0, 2.6975808918824358, 1}, {0, 0, 2.7059584722920085, 1}, {0, 0, 2.714336052701581, 1}, {0, 0, 2.7227136331111543, 1}, {0, 0, 2.7310912135207266, 1}, {0, 0, 2.7394687939302997, 1}, {0, 0, 2.7478463743398724, 1}, {0, 0, 2.756223954749445, 1}, {0, 0, 2.764601535159018, 1}, {0, 0, 2.772979115568591, 1}, {0, 0, 2.7813566959781633, 1}, {0, 0, 2.7897342763877364, 1}, {0, 0, 2.798111856797309, 1}, {0, 0, 2.806489437206882, 1}, {0, 0, 2.8148670176164545, 1}, {0, 0, 2.8232445980260272, 1}, {0, 0, 2.8316221784356, 1}, {0, 0, 2.839999758845173, 1}, {0, 0, 2.848377339254746, 1}, {0, 0, 2.8567549196643185, 1}, {0, 0, 2.8651325000738916, 1}, {0, 0, 2.873510080483464, 1}, {0, 0, 2.881887660893037, 1}, {0, 0, 2.8902652413026098, 1}, {0, 0, 2.8986428217121825, 1}, {0, 0, 2.907020402121755, 1}, {0, 0, 2.9153979825313283, 1}, {0, 0, 2.9237755629409006, 1}, {0, 0, 2.9321531433504737, 1}, {0, 0, 2.9405307237600464, 1}, {0, 0, 2.948908304169619, 1}, {0, 0, 2.957285884579192, 1}, {0, 0, 2.9656634649887645, 1}, {0, 0, 2.9740410453983372, 1}, {0, 0, 2.9824186258079104, 1}, {0, 0, 2.990796206217483, 1}, {0, 0, 2.999173786627056, 1}, {0, 0, 3.0075513670366285, 1}, {0, 0, 3.015928947446201, 1}, {0, 0, 3.0243065278557744, 1}, {0, 0, 3.032684108265347, 1}, {0, 0, 3.0410616886749198, 1}, {0, 0, 3.0494392690844925, 1}, {0, 0, 3.0578168494940656, 1}, {0, 0, 3.066194429903638, 1}, {0, 0, 3.074572010313211, 1}, {0, 0, 3.0829495907227833, 1}, {0, 0, 3.0913271711323564, 1}, {0, 0, 3.099704751541929, 1}, {0, 0, 3.108082331951502, 1}, {0, 0, 3.1164599123610746, 1}, {0, 0, 3.1248374927706477, 1}, {0, 0, 3.1332150731802204, 1}, {0, 0, 3.141592653589793, 1}, {0, 0, 3.149970233999366, 1}, {0, 0, 3.158347814408939, 1}, {0, 0, 3.1667253948185117, 1}, {0, 0, 3.175102975228084, 1}, {0, 0, 3.183480555637657, 1}, {0, 0, 3.19185813604723, 1}, {0, 0, 3.2002357164568025, 1}, {0, 0, 3.2086132968663756, 1}, {0, 0, 3.2169908772759483, 1}, {0, 0, 3.2253684576855206, 1}, {0, 0, 3.233746038095094, 1}, {0, 0, 3.2421236185046665, 1}, {0, 0, 3.250501198914239, 1}, {0, 0, 3.2588787793238123, 1}, {0, 0, 3.267256359733385, 1}, {0, 0, 3.2756339401429577, 1}, {0, 0, 3.28401152055253, 1}, {0, 0, 3.292389100962103, 1}, {0, 0, 3.300766681371676, 1}, {0, 0, 3.3091442617812485, 1}, {0, 0, 3.3175218421908217, 1}, {0, 0, 3.3258994226003944, 1}, {0, 0, 3.3342770030099667, 1}, {0, 0, 3.3426545834195402, 1}, {0, 0, 3.3510321638291125, 1}, {0, 0, 3.359409744238685, 1}, {0, 0, 3.3677873246482584, 1}, {0, 0, 3.376164905057831, 1}, {0, 0, 3.3845424854674033, 1}, {0, 0, 3.392920065876977, 1}, {0, 0, 3.401297646286549, 1}, {0, 0, 3.409675226696122, 1}, {0, 0, 3.418052807105695, 1}, {0, 0, 3.4264303875152677, 1}, {0, 0, 3.4348079679248404, 1}, {0, 0, 3.4431855483344136, 1}, {0, 0, 3.4515631287439863, 1}, {0, 0, 3.4599407091535586, 1}, {0, 0, 3.4683182895631317, 1}, {0, 0, 3.4766958699727044, 1}, {0, 0, 3.485073450382277, 1}, {0, 0, 3.4934510307918503, 1}, {0, 0, 3.501828611201423, 1}, {0, 0, 3.5102061916109952, 1}, {0, 0, 3.518583772020569, 1}, {0, 0, 3.526961352430141, 1}, {0, 0, 3.535338932839714, 1}, {0, 0, 3.5437165132492865, 1}, {0, 0, 3.5520940936588596, 1}, {0, 0, 3.560471674068432, 1}, {0, 0, 3.5688492544780046, 1}, {0, 0, 3.5772268348875778, 1}, {0, 0, 3.5856044152971505, 1}, {0, 0, 3.593981995706723, 1}, {0, 0, 3.6023595761162963, 1}, {0, 0, 3.610737156525869, 1}, {0, 0, 3.6191147369354413, 1}, {0, 0, 3.627492317345015, 1}, {0, 0, 3.635869897754587, 1}, {0, 0, 3.64424747816416, 1}, {0, 0, 3.652625058573733, 1}, {0, 0, 3.6610026389833057, 1}, {0, 0, 3.669380219392878, 1}, {0, 0, 3.6777577998024515, 1}, {0, 0, 3.686135380212024, 1}, {0, 0, 3.6945129606215965, 1}, {0, 0, 3.7028905410311697, 1}, {0, 0, 3.7112681214407424, 1}, {0, 0, 3.719645701850315, 1}, {0, 0, 3.728023282259888, 1}, {0, 0, 3.7364008626694605, 1}, {0, 0, 3.744778443079033, 1}, {0, 0, 3.7531560234886063, 1}, {0, 0, 3.761533603898179, 1}, {0, 0, 3.7699111843077517, 1}, {0, 0, 3.778288764717325, 1}, {0, 0, 3.7866663451268976, 1}, {0, 0, 3.79504392553647, 1}, {0, 0, 3.8034215059460426, 1}, {0, 0, 3.8117990863556157, 1}, {0, 0, 3.8201766667651884, 1}, {0, 0, 3.8285542471747607, 1}, {0, 0, 3.8369318275843343, 1}, {0, 0, 3.8453094079939065, 1}, {0, 0, 3.8536869884034792, 1}, {0, 0, 3.8620645688130524, 1}, {0, 0, 3.870442149222625, 1}, {0, 0, 3.878819729632198, 1}, {0, 0, 3.887197310041771, 1}, {0, 0, 3.8955748904513436, 1}, {0, 0, 3.903952470860916, 1}, {0, 0, 3.912330051270489, 1}, {0, 0, 3.9207076316800618, 1}, {0, 0, 3.9290852120896345, 1}, {0, 0, 3.9374627924992076, 1}, {0, 0, 3.9458403729087803, 1}, {0, 0, 3.9542179533183526, 1}, {0, 0, 3.962595533727926, 1}, {0, 0, 3.9709731141374984, 1}, {0, 0, 3.979350694547071, 1}, {0, 0, 3.9877282749566443, 1}, {0, 0, 3.996105855366217, 1}, {0, 0, 4.004483435775789, 1}, {0, 0, 4.012861016185362, 1}, {0, 0, 4.0212385965949355, 1}, {0, 0, 4.029616177004508, 1}, {0, 0, 4.037993757414081, 1}, {0, 0, 4.046371337823653, 1}, {0, 0, 4.054748918233226, 1}, {0, 0, 4.063126498642799, 1}, {0, 0, 4.071504079052372, 1}, {0, 0, 4.079881659461945, 1}, {0, 0, 4.088259239871517, 1}, {0, 0, 4.09663682028109, 1}, {0, 0, 4.105014400690663, 1}, {0, 0, 4.113391981100236, 1}, {0, 0, 4.121769561509809, 1}, {0, 0, 4.130147141919381, 1}, {0, 0, 4.138524722328954, 1}, {0, 0, 4.1469023027385274, 1}, {0, 0, 4.1552798831481, 1}, {0, 0, 4.163657463557672, 1}, {0, 0, 4.172035043967245, 1}, {0, 0, 4.180412624376818, 1}, {0, 0, 4.1887902047863905, 1}, {0, 0, 4.197167785195964, 1}, {0, 0, 4.205545365605537, 1}, {0, 0, 4.213922946015109, 1}, {0, 0, 4.222300526424682, 1}, {0, 0, 4.2306781068342545, 1}, {0, 0, 4.239055687243828, 1}, {0, 0, 4.247433267653401, 1}, {0, 0, 4.255810848062973, 1}, {0, 0, 4.264188428472545, 1}, {0, 0, 4.272566008882119, 1}, {0, 0, 4.280943589291692, 1}, {0, 0, 4.289321169701264, 1}, {0, 0, 4.297698750110837, 1}, {0, 0, 4.30607633052041, 1}, {0, 0, 4.314453910929982, 1}, {0, 0, 4.322831491339555, 1}, {0, 0, 4.331209071749128, 1}, {0, 0, 4.339586652158701, 1}, {0, 0, 4.347964232568273, 1}, {0, 0, 4.356341812977846, 1}, {0, 0, 4.3647193933874195, 1}, {0, 0, 4.373096973796992, 1}, {0, 0, 4.381474554206565, 1}, {0, 0, 4.389852134616137, 1}, {0, 0, 4.39822971502571, 1}, {0, 0, 4.4066072954352835, 1}, {0, 0, 4.414984875844856, 1}, {0, 0, 4.423362456254428, 1}, {0, 0, 4.431740036664002, 1}, {0, 0, 4.440117617073574, 1}, {0, 0, 4.448495197483147, 1}, {0, 0, 4.45687277789272, 1}, {0, 0, 4.465250358302293, 1}, {0, 0, 4.473627938711865, 1}, {0, 0, 4.482005519121438, 1}, {0, 0, 4.490383099531011, 1}, {0, 0, 4.498760679940584, 1}, {0, 0, 4.507138260350157, 1}, {0, 0, 4.515515840759729, 1}, {0, 0, 4.523893421169302, 1}, {0, 0, 4.532271001578875, 1}, {0, 0, 4.540648581988448, 1}, {0, 0, 4.54902616239802, 1}, {0, 0, 4.557403742807594, 1}, {0, 0, 4.565781323217166, 1}, {0, 0, 4.5741589036267385, 1}, {0, 0, 4.582536484036312, 1}, {0, 0, 4.590914064445885, 1}, {0, 0, 4.599291644855457, 1}, {0, 0, 4.607669225265029, 1}, {0, 0, 4.6160468056746025, 1}, {0, 0, 4.624424386084176, 1}, {0, 0, 4.632801966493748, 1}, {0, 0, 4.641179546903321, 1}, {0, 0, 4.649557127312894, 1}, {0, 0, 4.657934707722466, 1}, {0, 0, 4.66631228813204, 1}, {0, 0, 4.674689868541612, 1}, {0, 0, 4.683067448951185, 1}, {0, 0, 4.691445029360758, 1}, {0, 0, 4.69982260977033, 1}, {0, 0, 4.708200190179903, 1}, {0, 0, 4.716577770589477, 1}, {0, 0, 4.724955350999049, 1}, {0, 0, 4.733332931408621, 1}, {0, 0, 4.741710511818194, 1}, {0, 0, 4.7500880922277675, 1}, {0, 0, 4.75846567263734, 1}, {0, 0, 4.766843253046913, 1}, {0, 0, 4.775220833456485, 1}, {0, 0, 4.783598413866058, 1}, {0, 0, 4.7919759942756315, 1}, {0, 0, 4.800353574685204, 1}, {0, 0, 4.808731155094777, 1}, {0, 0, 4.81710873550435, 1}, {0, 0, 4.825486315913922, 1}, {0, 0, 4.833863896323495, 1}, {0, 0, 4.842241476733068, 1}, {0, 0, 4.850619057142641, 1}, {0, 0, 4.858996637552213, 1}, {0, 0, 4.867374217961785, 1}, {0, 0, 4.875751798371359, 1}, {0, 0, 4.884129378780932, 1}, {0, 0, 4.892506959190504, 1}, {0, 0, 4.900884539600077, 1}, {0, 0, 4.90926212000965, 1}, {0, 0, 4.9176397004192225, 1}, {0, 0, 4.926017280828796, 1}, {0, 0, 4.934394861238369, 1}, {0, 0, 4.942772441647941, 1}, {0, 0, 4.951150022057514, 1}, {0, 0, 4.9595276024670865, 1}, {0, 0, 4.96790518287666, 1}, {0, 0, 4.976282763286233, 1}, {0, 0, 4.984660343695805, 1}, {0, 0, 4.993037924105377, 1}, {0, 0, 5.001415504514951, 1}, {0, 0, 5.009793084924524, 1}, {0, 0, 5.018170665334096, 1}, {0, 0, 5.026548245743669, 1}, {0, 0, 5.034925826153242, 1}, {0, 0, 5.043303406562814, 1}, {0, 0, 5.0516809869723875, 1}, {0, 0, 5.06005856738196, 1}, {0, 0, 5.068436147791533, 1}, {0, 0, 5.076813728201106, 1}, {0, 0, 5.085191308610678, 1}, {0, 0, 5.0935688890202515, 1}, {0, 0, 5.101946469429825, 1}, {0, 0, 5.110324049839397, 1}, {0, 0, 5.118701630248969, 1}, {0, 0, 5.127079210658542, 1}, {0, 0, 5.1354567910681155, 1}, {0, 0, 5.143834371477688, 1}, {0, 0, 5.15221195188726, 1}, {0, 0, 5.160589532296834, 1}, {0, 0, 5.168967112706406, 1}, {0, 0, 5.177344693115979, 1}, {0, 0, 5.185722273525552, 1}, {0, 0, 5.194099853935125, 1}, {0, 0, 5.202477434344697, 1}, {0, 0, 5.21085501475427, 1}, {0, 0, 5.2192325951638425, 1}, {0, 0, 5.227610175573416, 1}, {0, 0, 5.235987755982989, 1}, {0, 0, 5.244365336392561, 1}, {0, 0, 5.252742916802134, 1}, {0, 0, 5.261120497211707, 1}, {0, 0, 5.26949807762128, 1}, {0, 0, 5.277875658030852, 1}, {0, 0, 5.286253238440425, 1}, {0, 0, 5.294630818849998, 1}, {0, 0, 5.3030083992595705, 1}, {0, 0, 5.311385979669144, 1}, {0, 0, 5.319763560078717, 1}, {0, 0, 5.328141140488289, 1}, {0, 0, 5.336518720897862, 1}, {0, 0, 5.344896301307434, 1}, {0, 0, 5.353273881717008, 1}, {0, 0, 5.361651462126581, 1}, {0, 0, 5.370029042536153, 1}, {0, 0, 5.378406622945726, 1}, {0, 0, 5.386784203355298, 1}, {0, 0, 5.3951617837648715, 1}, {0, 0, 5.403539364174444, 1}, {0, 0, 5.411916944584017, 1}, {0, 0, 5.42029452499359, 1}, {0, 0, 5.428672105403162, 1}, {0, 0, 5.437049685812735, 1}, {0, 0, 5.445427266222309, 1}, {0, 0, 5.453804846631881, 1}, {0, 0, 5.462182427041453, 1}, {0, 0, 5.470560007451026, 1}, {0, 0, 5.4789375878605995, 1}, {0, 0, 5.487315168270172, 1}, {0, 0, 5.495692748679745, 1}, {0, 0, 5.504070329089317, 1}, {0, 0, 5.51244790949889, 1}, {0, 0, 5.5208254899084634, 1}, {0, 0, 5.529203070318036, 1}, {0, 0, 5.537580650727609, 1}, {0, 0, 5.545958231137182, 1}, {0, 0, 5.554335811546754, 1}, {0, 0, 5.5627133919563265, 1}, {0, 0, 5.5710909723659, 1}, {0, 0, 5.579468552775473, 1}, {0, 0, 5.587846133185045, 1}, {0, 0, 5.596223713594618, 1}, {0, 0, 5.604601294004191, 1}, {0, 0, 5.612978874413764, 1}, {0, 0, 5.621356454823337, 1}, {0, 0, 5.629734035232909, 1}, {0, 0, 5.638111615642482, 1}, {0, 0, 5.6464891960520545, 1}, {0, 0, 5.654866776461628, 1}, {0, 0, 5.6632443568712, 1}, {0, 0, 5.671621937280773, 1}, {0, 0, 5.679999517690346, 1}, {0, 0, 5.688377098099918, 1}, {0, 0, 5.696754678509492, 1}, {0, 0, 5.705132258919065, 1}, {0, 0, 5.713509839328637, 1}, {0, 0, 5.721887419738209, 1}, {0, 0, 5.730265000147783, 1}, {0, 0, 5.7386425805573555, 1}, {0, 0, 5.747020160966928, 1}, {0, 0, 5.755397741376501, 1}, {0, 0, 5.763775321786074, 1}, {0, 0, 5.772152902195646, 1}, {0, 0, 5.7805304826052195, 1}, {0, 0, 5.788908063014792, 1}, {0, 0, 5.797285643424365, 1}, {0, 0, 5.805663223833938, 1}, {0, 0, 5.81404080424351, 1}, {0, 0, 5.8224183846530835, 1}, {0, 0, 5.830795965062657, 1}, {0, 0, 5.839173545472229, 1}, {0, 0, 5.847551125881801, 1}, {0, 0, 5.855928706291374, 1}, {0, 0, 5.8643062867009474, 1}, {0, 0, 5.87268386711052, 1}, {0, 0, 5.881061447520093, 1}, {0, 0, 5.889439027929666, 1}, {0, 0, 5.897816608339238, 1}, {0, 0, 5.9061941887488105, 1}, {0, 0, 5.914571769158384, 1}, {0, 0, 5.922949349567957, 1}, {0, 0, 5.931326929977529, 1}, {0, 0, 5.939704510387102, 1}, {0, 0, 5.9480820907966745, 1}, {0, 0, 5.956459671206248, 1}, {0, 0, 5.964837251615821, 1}, {0, 0, 5.973214832025393, 1}, {0, 0, 5.981592412434966, 1}, {0, 0, 5.989969992844539, 1}, {0, 0, 5.998347573254112, 1}, {0, 0, 6.006725153663684, 1}, {0, 0, 6.015102734073257, 1}, {0, 0, 6.02348031448283, 1}, {0, 0, 6.031857894892402, 1}, {0, 0, 6.040235475301976, 1}, {0, 0, 6.048613055711549, 1}, {0, 0, 6.056990636121121, 1}, {0, 0, 6.065368216530694, 1}, {0, 0, 6.073745796940266, 1}, {0, 0, 6.0821233773498395, 1}, {0, 0, 6.090500957759413, 1}, {0, 0, 6.098878538168985, 1}, {0, 0, 6.107256118578558, 1}, {0, 0, 6.115633698988131, 1}, {0, 0, 6.1240112793977035, 1}, {0, 0, 6.132388859807276, 1}, {0, 0, 6.140766440216849, 1}, {0, 0, 6.149144020626422, 1}, {0, 0, 6.157521601035994, 1}, {0, 0, 6.165899181445567, 1}, {0, 0, 6.174276761855141, 1}, {0, 0, 6.182654342264713, 1}, {0, 0, 6.191031922674285, 1}, {0, 0, 6.199409503083858, 1}, {0, 0, 6.2077870834934314, 1}, {0, 0, 6.216164663903004, 1}, {0, 0, 6.224542244312577, 1}, {0, 0, 6.232919824722149, 1}, {0, 0, 6.241297405131722, 1}, {0, 0, 6.249674985541295, 1}, {0, 0, 6.258052565950868, 1}, {0, 0, 6.266430146360441, 1}, {0, 0, 6.274807726770014, 1}};

    #pragma endregion PythonData

    std::vector<std::vector<float>> cpp_data = particle_filter.get_particles_data();

    ASSERT_EQ(cpp_data, python_data);
}

TEST(ParticleFilterTests, feedback_test) {
    float latitudeLength = 111086.2;
    float longitudeLength = 81978.2;
    ParticleFilter particle_filter = ParticleFilter(latitudeLength, longitudeLength);
}

int main(int argc, char* argv[]) {
    ::testing::InitGoogleTest(&argc, argv);
    return RUN_ALL_TESTS();
}
